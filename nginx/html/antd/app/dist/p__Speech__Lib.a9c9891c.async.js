(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[567],{64317:function(H,Z,e){"use strict";var F=e(22122),p=e(28991),h=e(81253),y=e(22270),i=e(67294),C=e(66758),K=e(38622),f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],u=i.forwardRef(function(r,S){var D=r.fieldProps,T=r.children,j=r.params,A=r.proFieldProps,L=r.mode,M=r.valueEnum,b=r.request,U=r.showSearch,B=r.options,W=(0,h.Z)(r,f),$=(0,i.useContext)(C.Z);return i.createElement(K.Z,(0,F.Z)({mode:"edit",valueEnum:(0,y.h)(M),request:b,params:j,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,p.Z)({options:B,mode:L,showSearch:U,getPopupContainer:$.getPopupContainer},D),ref:S,proFieldProps:A},W),T)}),P=i.forwardRef(function(r,S){var D=r.fieldProps,T=r.children,j=r.params,A=r.proFieldProps,L=r.mode,M=r.valueEnum,b=r.request,U=r.options,B=(0,h.Z)(r,g),W=(0,p.Z)({options:U,mode:L||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},D),$=(0,i.useContext)(C.Z);return i.createElement(K.Z,(0,F.Z)({mode:"edit",valueEnum:(0,y.h)(M),request:b,params:j,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,p.Z)({getPopupContainer:$.getPopupContainer},W),ref:S,proFieldProps:A},B),T)}),R=u,Y=P,I=R;I.SearchSelect=Y,I.displayName="ProFormComponent",Z.Z=I},90672:function(H,Z,e){"use strict";var F=e(22122),p=e(81253),h=e(67294),y=e(38622),i=["fieldProps","proFieldProps"],C=function(f,g){var u=f.fieldProps,P=f.proFieldProps,R=(0,p.Z)(f,i);return h.createElement(y.Z,(0,F.Z)({ref:g,mode:"edit",valueType:"textarea",fieldProps:u,proFieldProps:P},R))};Z.Z=h.forwardRef(C)},94750:function(H,Z,e){"use strict";var F=e(81910),p=e(85893),h=function(i){var C=(0,F.md)();return(0,p.jsx)(F.Nv,{accessible:C[i.access],children:i.children})};Z.Z=h},67505:function(H,Z,e){"use strict";e.r(Z),e.d(Z,{default:function(){return re}});var F=e(62350),p=e(24565),h=e(86582),y=e(57663),i=e(71577),C=e(91220),K=e(34792),f=e(48086),g=e(11849),u=e(39428),P=e(3182),R=e(69610),Y=e(54941),I=e(81306),r=e(80017),S=e(94750),D=e(62260),T=e(49101),j=e(1870),A=e(67265),L=e(25590),M=e(67294),b=e(9715),U=e(55843),B=e(2824),W=e(71975),$=e(5966),w=e(90672),k=e(64317),o=e(85893),q=function(c){var E,x,d=U.Z.useForm(),m=(0,B.Z)(d,1),n=m[0];return(0,o.jsxs)(W.a,{title:c.values?"\u7F16\u8F91":"\u6DFB\u52A0",form:n,preserve:!1,trigger:c.btn,layout:"horizontal",autoFocusFirstInput:!0,drawerProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(){var a=(0,P.Z)((0,u.Z)().mark(function s(v){var l;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v.id=((l=c.values)===null||l===void 0?void 0:l.id)||0,t.abrupt("return",c.onSubmit(v));case 2:case"end":return t.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),width:"450px",children:[(0,o.jsx)($.Z,{name:"name",labelCol:{span:4},label:"\u540D\u79F0",initialValue:((E=c.values)===null||E===void 0?void 0:E.name)||""}),(0,o.jsx)(w.Z,{name:"desc",labelCol:{span:4},label:"\u63CF\u8FF0",initialValue:((x=c.values)===null||x===void 0?void 0:x.desc)||""}),(0,o.jsx)(k.Z,{name:"type",labelCol:{span:4},label:"\u4F7F\u7528\u573A\u666F",initialValue:c.values&&c.values.type,fieldProps:{onChange:function(s){}},options:[{label:"\u8BC4\u8BBA",value:0},{label:"\u79C1\u4FE1",value:1}]})]})},G=q,_=e(30381),ee=e.n(_),N=[{title:"ID",dataIndex:"id",search:!1},{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u63CF\u8FF0",dataIndex:"desc",search:!1},{title:"\u7C7B\u578B",dataIndex:"type",valueEnum:{0:{text:"\u8BC4\u8BBA",status:"Success"},1:{text:"\u79C1\u4FE1",status:"Error"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateTime",search:!1,render:function(c){return ee()(c.props.text*1e3).format("YYYY-MM-DD HH:mm:ss")}}],te=e(81910),Q,J,X,O,re=(Q=window.connectModel("user","@@initialState"),J=Reflect.metadata("design:type",Function),X=Reflect.metadata("design:paramtypes",[Object]),Q(O=J(O=X(O=function(z){(0,I.Z)(E,z);var c=(0,r.Z)(E);function E(x){var d,m,n;return(0,R.Z)(this,E),n=c.call(this,x),n.actionRef=void 0,n.state={user:(d=n.props.user)===null||d===void 0||(m=d.initialState)===null||m===void 0?void 0:m.currentUser,columns:N},n.getData=function(){var a=(0,P.Z)((0,u.Z)().mark(function s(v){var l;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.t3)(v);case 2:return l=t.sent,t.abrupt("return",l);case 4:case"end":return t.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),n.handleUpdate=function(){var a=(0,P.Z)((0,u.Z)().mark(function s(v){var l;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.mI)((0,g.Z)({},v));case 2:if(l=t.sent,!l.success){t.next=7;break}return n.actionRef.current.reload(),f.ZP.success(l.msg),t.abrupt("return",!0);case 7:case"end":return t.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),n.handleAdd=function(){var a=(0,P.Z)((0,u.Z)().mark(function s(v){var l;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.HD)((0,g.Z)({},v));case 2:if(l=t.sent,!l.success){t.next=7;break}return n.actionRef.current.reload(),f.ZP.success(l.msg),t.abrupt("return",!0);case 7:case"end":return t.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),n.handleRemove=function(){var a=(0,P.Z)((0,u.Z)().mark(function s(v){var l;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.pi)({id:v});case 2:l=t.sent,console.log(l),l.success&&(n.actionRef.current.reload(),f.ZP.success(l.msg));case 5:case"end":return t.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),n.actionRef=M.createRef(),n}return(0,Y.Z)(E,[{key:"componentDidMount",value:function(){if(this.state.user.role_type!==2){var d=[],m=0,n=(0,C.Z)(N),a;try{for(n.s();!(a=n.n()).done;){var s=a.value;m++,m===N.length-1&&d.push({title:"\u7528\u6237",dataIndex:"userName",search:!1}),d.push(s)}}catch(v){n.e(v)}finally{n.f()}this.setState({columns:d})}}},{key:"render",value:function(){var d=this;return(0,o.jsx)(A.ZP,{children:(0,o.jsx)(L.Z,{actionRef:this.actionRef,rowKey:"id",search:{labelWidth:68},toolBarRender:function(){return[(0,o.jsx)(S.Z,{access:"Api_addSpeechLib",children:(0,o.jsx)(G,{btn:(0,o.jsxs)(i.Z,{type:"primary",children:[(0,o.jsx)(T.Z,{}),"\u6DFB\u52A0"]}),onSubmit:d.handleAdd,values:void 0},"unique__add")},"unique_add")]},request:this.getData,columns:[].concat((0,h.Z)(this.state.columns),[{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(n,a){return[(0,o.jsx)("a",{onClick:function(){te.m8.push("./lib/list?id="+a.id)},children:"\u8BDD\u672F\u5217\u8868"},"list_"+a.id),(0,o.jsx)(G,{btn:(0,o.jsx)("a",{children:"\u4FEE\u6539"},"update_"+a.id),onSubmit:d.handleUpdate,values:a},"update__"+a.id),(0,o.jsxs)(p.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",icon:(0,o.jsx)(j.Z,{style:{color:"red"}}),onConfirm:function(){return d.handleRemove(a.id)},children:[" ",(0,o.jsx)("a",{children:"\u5220\u9664"},"delete_"+a.id)]},"delete__"+a.id)]}}])})})}}]),E}(M.Component))||O)||O)||O)}}]);

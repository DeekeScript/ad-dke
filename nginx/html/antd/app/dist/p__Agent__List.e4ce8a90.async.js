(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[963],{31199:function(B,p,e){"use strict";var j=e(22122),F=e(28991),P=e(81253),Z=e(67294),E=e(38622),A=["fieldProps","min","proFieldProps","max"],x=function(u,v){var D=u.fieldProps,g=u.min,R=u.proFieldProps,M=u.max,C=(0,P.Z)(u,A);return Z.createElement(E.Z,(0,j.Z)({mode:"edit",valueType:"digit",fieldProps:(0,F.Z)({min:g,max:M},D),ref:v,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:R},C))};p.Z=Z.forwardRef(x)},90672:function(B,p,e){"use strict";var j=e(22122),F=e(81253),P=e(67294),Z=e(38622),E=["fieldProps","proFieldProps"],A=function(f,u){var v=f.fieldProps,D=f.proFieldProps,g=(0,F.Z)(f,E);return P.createElement(Z.Z,(0,j.Z)({ref:u,mode:"edit",valueType:"textarea",fieldProps:v,proFieldProps:D},g))};p.Z=P.forwardRef(A)},48315:function(B,p,e){"use strict";e.r(p),e.d(p,{default:function(){return te}});var j=e(62350),F=e(24565),P=e(86582),Z=e(57663),E=e(71577),A=e(34792),x=e(48086),f=e(11849),u=e(39428),v=e(3182),D=e(69610),g=e(54941),R=e(81306),M=e(80017),C=e(62260),K=e(49101),S=e(1870),V=e(67265),Y=e(25590),T=e(67294),ie=e(9715),H=e(55843),N=e(2824),z=e(71975),O=e(5966),y=e(31199),G=e(22122),Q=e(28991),J=e(81253),X=e(38622),w=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],k=T.forwardRef(function(o,a){var c=o.fieldProps,m=o.unCheckedChildren,t=o.checkedChildren,d=o.proFieldProps,i=(0,J.Z)(o,w);return T.createElement(X.Z,(0,G.Z)({valueType:"switch",mode:"edit",fieldProps:(0,Q.Z)({unCheckedChildren:m,checkedChildren:t},c),ref:a,valuePropName:"checked",proFieldProps:d,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},i))}),q=k,_=e(90672),n=e(85893),ee=function(a){var c,m,t,d,i,l,s,h,r=H.Z.useForm(),le=(0,N.Z)(r,1),se=le[0];return(0,n.jsxs)(z.a,{title:a.values?"\u7F16\u8F91":"\u6DFB\u52A0",form:se,preserve:!1,trigger:a.btn,layout:"horizontal",autoFocusFirstInput:!0,drawerProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(){var ue=(0,v.Z)((0,u.Z)().mark(function W(L){var b;return(0,u.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return L.id=((b=a.values)===null||b===void 0?void 0:b.id)||0,I.abrupt("return",a.onSubmit(L));case 2:case"end":return I.stop()}},W)}));return function(W){return ue.apply(this,arguments)}}(),width:"440px",children:[(0,n.jsx)(O.Z,{name:"name",labelCol:{span:5},label:"\u540D\u79F0",rules:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:((c=a.values)===null||c===void 0?void 0:c.name)||""}),(0,n.jsx)(y.Z,{name:"mobile",labelCol:{span:5},label:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:((m=a.values)===null||m===void 0?void 0:m.mobile)||""}),(0,n.jsx)(y.Z,{name:"user_id",labelCol:{span:5},label:"\u7528\u6237ID",rules:[{required:!0,message:"\u7528\u6237ID\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:((t=a.values)===null||t===void 0?void 0:t.user_id)||""}),(0,n.jsx)(O.Z,{name:"weixin",labelCol:{span:5},label:"\u5FAE\u4FE1\u53F7",rules:[{required:!0,message:"\u5FAE\u4FE1\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:((d=a.values)===null||d===void 0?void 0:d.weixin)||""}),(0,n.jsx)(O.Z,{name:"douyin",labelCol:{span:5},label:"\u6296\u97F3\u53F7",rules:[{required:!0,message:"\u6296\u97F3\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:((i=a.values)===null||i===void 0?void 0:i.douyin)||""}),(0,n.jsx)(y.Z,{disabled:!0,name:"machine_count",fieldProps:{addonAfter:"\u53F0"},labelCol:{span:5},label:"\u673A\u5668\u6570\u91CF",rules:[{required:!0,message:"\u673A\u5668\u6570\u91CF\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:((l=a.values)===null||l===void 0?void 0:l.machine_count)||0}),(0,n.jsx)(y.Z,{name:"add_machine_count",fieldProps:{addonAfter:"\u53F0"},labelCol:{span:5},label:"\u65B0\u589E\u673A\u5668",rules:[{required:!0,message:"\u673A\u5668\u6570\u91CF\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:0}),(0,n.jsx)(y.Z,{name:"pay_money",fieldProps:{addonAfter:"\u5206"},labelCol:{span:5},label:"\u6D88\u8D39",rules:[{required:!0,message:"\u6D88\u8D39\u4E0D\u80FD\u4E3A\u7A7A"}],initialValue:((s=a.values)===null||s===void 0?void 0:s.pay_money)||""}),(0,n.jsx)(q,{name:"open_wx",checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",labelCol:{span:5},label:"\u5FAE\u4FE1\u7FA4\u63A7"}),(0,n.jsx)(_.Z,{name:"desc",labelCol:{span:5},label:"\u63CF\u8FF0",initialValue:((h=a.values)===null||h===void 0?void 0:h.desc)||""})]})},$=ee,re=e(30381),ae=e.n(re),ne=[{title:"ID",dataIndex:"id",search:!1,fixed:"left",width:120},{title:"\u4EE3\u7406\u5546\u540D\u79F0",dataIndex:"name"},{title:"\u7528\u6237ID",dataIndex:"user_id"},{title:"\u5FAE\u4FE1\u53F7",dataIndex:"weixin",renderText:function(a){return"".concat(a)}},{title:"\u6296\u97F3\u53F7",dataIndex:"douyin",renderText:function(a){return"".concat(a)}},{title:"\u63CF\u8FF0",dataIndex:"desc",valueType:"textarea",copyable:!0,width:200,ellipsis:!0,search:!1},{title:"\u673A\u5668\u6570\u91CF",dataIndex:"machine_count",search:!1},{title:"\u5FAE\u4FE1\u7FA4\u63A7",dataIndex:"open_wx",search:!1,valueEnum:{0:{text:"\u672A\u5F00\u542F"},1:{text:"\u5DF2\u5F00\u542F",status:"Success"}}},{title:"\u7D2F\u8BA1\u673A\u5668\u6570\u91CF",dataIndex:"all_machine_count",search:!1},{title:"\u7D2F\u8BA1\u6D88\u8D39\uFF08\u5143\uFF09",dataIndex:"pay_money",search:!1,render:function(a){return(a/100).toFixed(2)}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateTime",width:180,search:!1,render:function(a){return ae()(a.props.text*1e3).format("YYYY-MM-DD HH:mm:ss")}}],U=e(81910),te=function(o){(0,R.Z)(c,o);var a=(0,M.Z)(c);function c(m){var t;return(0,D.Z)(this,c),t=a.call(this,m),t.actionRef=void 0,t.state={},t.getData=function(){var d=(0,v.Z)((0,u.Z)().mark(function i(l){var s;return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,C.sC)(l);case 2:return s=r.sent,r.abrupt("return",s);case 4:case"end":return r.stop()}},i)}));return function(i){return d.apply(this,arguments)}}(),t.handleUpdate=function(){var d=(0,v.Z)((0,u.Z)().mark(function i(l){var s;return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,C.sE)((0,f.Z)({},l));case 2:if(s=r.sent,!s.success){r.next=7;break}return t.actionRef.current.reload(),x.ZP.success(s.msg),r.abrupt("return",!0);case 7:case"end":return r.stop()}},i)}));return function(i){return d.apply(this,arguments)}}(),t.handleAdd=function(){var d=(0,v.Z)((0,u.Z)().mark(function i(l){var s;return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,C.o0)((0,f.Z)({},l));case 2:if(s=r.sent,!s.success){r.next=7;break}return t.actionRef.current.reload(),x.ZP.success(s.msg),r.abrupt("return",!0);case 7:case"end":return r.stop()}},i)}));return function(i){return d.apply(this,arguments)}}(),t.handleRemove=function(){var d=(0,v.Z)((0,u.Z)().mark(function i(l){var s;return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,C.e9)({id:l});case 2:s=r.sent,console.log(s),s.success&&(t.actionRef.current.reload(),x.ZP.success(s.msg));case 5:case"end":return r.stop()}},i)}));return function(i){return d.apply(this,arguments)}}(),t.actionRef=T.createRef(),t}return(0,g.Z)(c,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return(0,n.jsx)(V.ZP,{children:(0,n.jsx)(Y.Z,{actionRef:this.actionRef,scroll:{x:1800},rowKey:"id",search:{labelWidth:80},toolBarRender:function(){return[(0,n.jsx)($,{btn:(0,n.jsxs)(E.Z,{type:"primary",children:[(0,n.jsx)(K.Z,{}),"\u6DFB\u52A0"]}),onSubmit:t.handleAdd,values:void 0})]},request:this.getData,columns:[].concat((0,P.Z)(ne),[{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",fixed:"right",width:240,render:function(i,l){return[(0,n.jsx)("a",{onClick:function(){return U.m8.push("/machine/List?agent_user_id="+l.user_id)},children:"\u673A\u5668\u5217\u8868"},"machine_"+l.id),(0,n.jsx)("a",{onClick:function(){return U.m8.push("/statistic/List?agent_user_id="+l.user_id)},children:"\u7EDF\u8BA1\u6570\u636E"},"statistic_"+l.id),(0,n.jsx)($,{btn:(0,n.jsx)("a",{children:"\u4FEE\u6539"},"update_"+l.id),onSubmit:t.handleUpdate,values:l},"update__"+l.id),(0,n.jsxs)(F.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",icon:(0,n.jsx)(S.Z,{style:{color:"red"}}),onConfirm:function(){return t.handleRemove(l.id)},children:[" ",(0,n.jsx)("a",{children:"\u5220\u9664"},"delete_"+l.id)]},"delete__"+l.id)]}}])})})}}]),c}(T.Component)}}]);

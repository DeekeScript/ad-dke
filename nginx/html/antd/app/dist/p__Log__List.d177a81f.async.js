(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[353],{79930:function(F,v,t){"use strict";t.r(v),t.d(v,{default:function(){return Y}});var S=t(62350),g=t(24565),Z=t(86582),A=t(34792),y=t(48086),c=t(39428),h=t(3182),p=t(69610),I=t(54941),C=t(81306),R=t(80017),m=t(62260),D=t(1870),j=t(67265),T=t(25590),x=t(67294),P=t(30381),E=t.n(P),o=t(85893),M=[{title:"ID",dataIndex:"id",search:!1,width:120,fixed:"left"},{title:"\u65E5\u5FD7\u7C7B\u578B",dataIndex:"type",valueEnum:{0:{text:"\u4E00\u822C\u9519\u8BEF"},1:{text:"\u81F4\u547D\u9519\u8BEF",status:"Error"},2:{text:"\u7CFB\u7EDF\u53C2\u6570\u7F3A\u5931\u9519\u8BEF",status:"Error"},3:{text:"\u5176\u4ED6\u9519\u8BEF",status:"Processing"},4:{text:"\u672A\u77E5\u9519\u8BEF",status:"Processing"}}},{title:"\u673A\u5668ID",dataIndex:"machine_id"},{title:"\u7528\u6237ID",dataIndex:"user_id"},{title:"\u4EE3\u7406\u5546\u7528\u6237ID",dataIndex:"agent_user_id",renderText:function(a){return"".concat(a)}},{title:"\u65E5\u5FD7\u5185\u5BB9",dataIndex:"desc",search:!1,width:1200,render:function(a){try{var r=JSON.parse(a);if(r&&r.length<=10)return r.map(function(u){return(0,o.jsx)("p",{children:u})})}catch(u){}return a}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateTime",width:180,search:!1,render:function(a){return E()(a.props.text*1e3).format("YYYY-MM-DD HH:mm:ss")}}],Y=function(f){(0,C.Z)(r,f);var a=(0,R.Z)(r);function r(u){var n;return(0,p.Z)(this,r),n=a.call(this,u),n.actionRef=void 0,n.state={},n.getData=function(){var l=(0,h.Z)((0,c.Z)().mark(function d(i){var s;return(0,c.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.mq)(i);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},d)}));return function(d){return l.apply(this,arguments)}}(),n.handleRemove=function(){var l=(0,h.Z)((0,c.Z)().mark(function d(i){var s;return(0,c.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.vS)({id:i});case 2:s=e.sent,console.log(s),s.success&&(n.actionRef.current.reload(),y.ZP.success(s.msg));case 5:case"end":return e.stop()}},d)}));return function(d){return l.apply(this,arguments)}}(),n.actionRef=x.createRef(),n}return(0,I.Z)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this;return(0,o.jsx)(j.ZP,{children:(0,o.jsx)(T.Z,{actionRef:this.actionRef,rowKey:"id",scroll:{x:2e3},search:{labelWidth:100},toolBarRender:function(){return[]},request:this.getData,columns:[].concat((0,Z.Z)(M),[{title:"\u64CD\u4F5C",width:80,dataIndex:"option",valueType:"option",fixed:"right",render:function(d,i){return[(0,o.jsxs)(g.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",icon:(0,o.jsx)(D.Z,{style:{color:"red"}}),onConfirm:function(){return n.handleRemove(i.id)},children:[" ",(0,o.jsx)("a",{children:"\u5220\u9664"},"delete_"+i.id)]},"delete__"+i.id)]}}])})})}}]),r}(x.Component)}}]);

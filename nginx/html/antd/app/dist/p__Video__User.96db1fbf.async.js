(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[249],{83450:function(W,F,n){"use strict";n.r(F),n.d(F,{default:function(){return Q}});var L=n(62350),E=n(24565),R=n(86582),N=n(57663),$=n(71577),X=n(17462),T=n(76772),k=n(34792),y=n(48086),I=n(11849),d=n(39428),h=n(3182),P=n(69610),U=n(54941),A=n(81306),B=n(80017),x=n(62260),w=n(49101),S=n(1870),V=n(67265),z=n(25590),j=n(67294),M=n(30381),O=n.n(M),Y=[{title:"ID",dataIndex:"id",search:!1,fixed:"left",width:120},{title:"\u8BBE\u5907ID",dataIndex:"machine_id",width:120,render:function(e){return e||"-"}},{title:"IP",dataIndex:"province_name",search:!1},{title:"\u6635\u79F0",dataIndex:"nickname",ellipsis:!0,copyable:!0,width:160,search:!1},{title:"\u6296\u97F3\u53F7",ellipsis:!0,copyable:!0,width:160,dataIndex:"douyin",search:!1,render:function(e){return e||"-"}},{title:"\u6027\u522B",dataIndex:"gender",search:!1,valueEnum:{3:{text:"\u672A\u77E5"},1:{text:"\u7537"},2:{text:"\u5973"}}},{title:"\u5E74\u9F84",dataIndex:"age",search:!1,render:function(e){return e||"-"}},{title:"\u7C7B\u578B",dataIndex:"type",tip:"\u5176\u4ED6\uFF1A\u5305\u62EC\u89C6\u9891\u4F5C\u8005\u548C\u8BC4\u8BBA\u4EBA\u4EE5\u5916\u7684\u4EFB\u4F55\u4EBA",valueEnum:{0:{text:"\u4F5C\u8005"},1:{text:"\u8BC4\u8BBA\u533A"},2:{text:"\u5176\u4ED6"}}},{title:"\u4E2A\u4EBA\u53F7",dataIndex:"is_person",search:!1,valueEnum:{0:{text:"\u5426"},1:{text:"\u662F"}}},{title:"\u56E2\u8D2D\u8FBE\u4EBA",dataIndex:"is_tuangou",search:!1,valueEnum:{0:{text:"\u5426"},1:{text:"\u662F"}}},{title:"\u5F00\u542F\u6A71\u7A97",dataIndex:"open_window",search:!1,valueEnum:{0:{text:"\u5426"},1:{text:"\u662F"}}},{title:"\u70B9\u8D5E\u6570",dataIndex:"zan_count",search:!1,render:function(e){return e>1e4?(e/1e4).toFixed(2)+"w":e}},{title:"\u5173\u6CE8\u6570",dataIndex:"focus_count",search:!1,render:function(e){return e>1e4?(e/1e4).toFixed(2)+"w":e}},{title:"\u7C89\u4E1D\u6570",dataIndex:"fans_count",search:!1,render:function(e){return e>1e4?(e/1e4).toFixed(2)+"w":e}},{title:"\u4F5C\u54C1\u6570",dataIndex:"works_count",search:!1,render:function(e){return e>1e4?(e/1e4).toFixed(2)+"w":e}},{title:"\u7B80\u4ECB",dataIndex:"introduce",ellipsis:!0,copyable:!0,width:240,search:!1},{title:"\u89C6\u9891\u6807\u9898",dataIndex:"title",ellipsis:!0,copyable:!0,width:320,search:!1,render:function(e){return e||"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateTimeRange",width:180,search:{transform:function(e){return{startTime:e[0],endTime:e[1]}}},render:function(e){return O()(e.props.text*1e3).format("YYYY-MM-DD HH:mm:ss")}}],q=n(9715),b=n(55843),H=n(2824),G=n(71975),p=n(5966),s=n(85893),J=function(e){var c,v,r,i,l,u=b.Z.useForm(),a=(0,H.Z)(u,1),m=a[0];return(0,s.jsxs)(G.a,{title:e.values?"\u7F16\u8F91":"\u6DFB\u52A0",form:m,preserve:!1,trigger:e.btn,layout:"horizontal",autoFocusFirstInput:!0,drawerProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(){var t=(0,h.Z)((0,d.Z)().mark(function f(D){var g;return(0,d.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return D.id=((g=e.values)===null||g===void 0?void 0:g.id)||0,Z.abrupt("return",e.onSubmit(D));case 2:case"end":return Z.stop()}},f)}));return function(f){return t.apply(this,arguments)}}(),width:"400px",children:[(0,s.jsx)(p.Z,{name:"nickname",labelCol:{span:4},label:"\u6635\u79F0",initialValue:((c=e.values)===null||c===void 0?void 0:c.nickname)||""}),(0,s.jsx)(p.Z,{name:"douyin",labelCol:{span:4},label:"\u6296\u97F3\u53F7",initialValue:((v=e.values)===null||v===void 0?void 0:v.douyin)||""}),(0,s.jsx)(p.Z,{name:"zan_count",labelCol:{span:4},label:"\u70B9\u8D5E\u6570",initialValue:((r=e.values)===null||r===void 0?void 0:r.zan_count)||""}),(0,s.jsx)(p.Z,{name:"focus_count",labelCol:{span:4},label:"\u5173\u6CE8\u6570",initialValue:((i=e.values)===null||i===void 0?void 0:i.focus_count)||""}),(0,s.jsx)(p.Z,{name:"fans_count",labelCol:{span:4},label:"\u7C89\u4E1D\u6570",initialValue:((l=e.values)===null||l===void 0?void 0:l.fans_count)||""})]})},C=J,K=n(81910),Q=function(o){(0,A.Z)(c,o);var e=(0,B.Z)(c);function c(v){var r;return(0,P.Z)(this,c),r=e.call(this,v),r.actionRef=void 0,r.state={},r.getData=function(){var i=(0,h.Z)((0,d.Z)().mark(function l(u){var a,m;return(0,d.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return u.video_id=((a=K.m8.location)===null||a===void 0?void 0:a.query.id)||0,f.next=3,(0,x.EE)(u);case 3:return m=f.sent,f.abrupt("return",m);case 5:case"end":return f.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),r.handleUpdate=function(){var i=(0,h.Z)((0,d.Z)().mark(function l(u){var a;return(0,d.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.iJ)((0,I.Z)({},u));case 2:if(a=t.sent,!a.success){t.next=7;break}return r.actionRef.current.reload(),y.ZP.success(a.msg),t.abrupt("return",!0);case 7:case"end":return t.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),r.handleAdd=function(){var i=(0,h.Z)((0,d.Z)().mark(function l(u){var a;return(0,d.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.PO)((0,I.Z)({},u));case 2:if(a=t.sent,!a.success){t.next=7;break}return r.actionRef.current.reload(),y.ZP.success(a.msg),t.abrupt("return",!0);case 7:case"end":return t.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),r.handleRemove=function(){var i=(0,h.Z)((0,d.Z)().mark(function l(u){var a;return(0,d.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.oe)({id:u});case 2:a=t.sent,console.log(a),a.success&&(r.actionRef.current.reload(),y.ZP.success(a.msg));case 5:case"end":return t.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),r.actionRef=j.createRef(),r}return(0,U.Z)(c,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var r=this;return(0,s.jsxs)(V.ZP,{children:[(0,s.jsx)(T.Z,{style:{marginBottom:12+"px"},type:"warning",description:"\u672C\u7CFB\u7EDF\u6570\u636E\u4E3B\u8981\u662F\u4E3A\u4E86\u5BA2\u6237\u8C03\u6574\u4EFB\u52A1\uFF0C\u4E3A\u9632\u6B62\u7528\u6237\u5012\u5356\u6570\u636E\uFF0C\u7CFB\u7EDF\u53EA\u50A8\u5B58\u8FD17\u5929\u7684\u6570\u636E\uFF01"}),(0,s.jsx)(z.Z,{actionRef:this.actionRef,rowKey:"id",scroll:{x:2200},search:{labelWidth:68},toolBarRender:function(){return[(0,s.jsx)(C,{btn:(0,s.jsxs)($.Z,{type:"primary",children:[(0,s.jsx)(w.Z,{}),"\u6DFB\u52A0"]}),onSubmit:r.handleAdd,values:void 0},"add")]},request:this.getData,columns:[].concat((0,R.Z)(Y),[{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",fixed:"right",width:100,render:function(l,u){return[(0,s.jsx)(C,{btn:(0,s.jsx)("a",{children:"\u4FEE\u6539"},"update_"+u.id),onSubmit:r.handleUpdate,values:u},"update__"+u.id),(0,s.jsxs)(E.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",icon:(0,s.jsx)(S.Z,{style:{color:"red"}}),onConfirm:function(){return r.handleRemove(u.id)},children:[" ",(0,s.jsx)("a",{children:"\u5220\u9664"},"delete_"+u.id)]},"delete__"+u.id)]}}])})]})}}]),c}(j.Component)}}]);

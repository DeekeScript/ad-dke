(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[590],{70271:function(Y,P,e){"use strict";var x=e(22122),h=e(28991),f=e(81253),D=e(67294),v=e(38622),E=["fieldProps","proFieldProps"],O=function(C,d){var F=C.fieldProps,M=C.proFieldProps,j=(0,f.Z)(C,E);return D.createElement(v.Z,(0,x.Z)({mode:"edit",valueType:"digitRange",fieldProps:(0,h.Z)({},F),ref:d,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:M},j))};P.Z=D.forwardRef(O)},64317:function(Y,P,e){"use strict";var x=e(22122),h=e(28991),f=e(81253),D=e(22270),v=e(67294),E=e(66758),O=e(38622),Z=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],C=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=v.forwardRef(function(u,S){var g=u.fieldProps,$=u.children,W=u.params,U=u.proFieldProps,L=u.mode,R=u.valueEnum,H=u.request,_=u.showSearch,A=u.options,K=(0,f.Z)(u,Z),V=(0,v.useContext)(E.Z);return v.createElement(O.Z,(0,x.Z)({mode:"edit",valueEnum:(0,D.h)(R),request:H,params:W,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({options:A,mode:L,showSearch:_,getPopupContainer:V.getPopupContainer},g),ref:S,proFieldProps:U},K),$)}),F=v.forwardRef(function(u,S){var g=u.fieldProps,$=u.children,W=u.params,U=u.proFieldProps,L=u.mode,R=u.valueEnum,H=u.request,_=u.options,A=(0,f.Z)(u,C),K=(0,h.Z)({options:_,mode:L||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},g),V=(0,v.useContext)(E.Z);return v.createElement(O.Z,(0,x.Z)({mode:"edit",valueEnum:(0,D.h)(R),request:H,params:W,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({getPopupContainer:V.getPopupContainer},K),ref:S,proFieldProps:U},A),$)}),M=d,j=F,T=M;T.SearchSelect=j,T.displayName="ProFormComponent",P.Z=T},90672:function(Y,P,e){"use strict";var x=e(22122),h=e(81253),f=e(67294),D=e(38622),v=["fieldProps","proFieldProps"],E=function(Z,C){var d=Z.fieldProps,F=Z.proFieldProps,M=(0,h.Z)(Z,v);return f.createElement(D.Z,(0,x.Z)({ref:C,mode:"edit",valueType:"textarea",fieldProps:d,proFieldProps:F},M))};P.Z=f.forwardRef(E)},94750:function(Y,P,e){"use strict";var x=e(81910),h=e(85893),f=function(v){var E=(0,x.md)();return(0,h.jsx)(x.Nv,{accessible:E[v.access],children:v.children})};P.Z=f},42535:function(Y,P,e){"use strict";e.r(P),e.d(P,{default:function(){return ce}});var x=e(62350),h=e(24565),f=e(86582),D=e(57663),v=e(71577),E=e(91220),O=e(34792),Z=e(48086),C=e(11849),d=e(39428),F=e(3182),M=e(69610),j=e(54941),T=e(81306),u=e(80017),S=e(94750),g=e(62260),$=e(49101),W=e(1870),U=e(67265),L=e(25590),R=e(67294),H=e(9715),_=e(55843),A=e(2824),K=e(71975),V=e(5966),G=e(64317),N=e(70271),ae=e(90672),n=e(85893),de=function(l){var t,y,m,p,r,s,o,c,i,B,a,X,w,k,q,pe=_.Z.useForm(),he=(0,A.Z)(pe,1),fe=he[0],Fe=(0,R.useState)((t=l.values)===null||t===void 0?void 0:t.is_city),ue=(0,A.Z)(Fe,2),se=ue[0],Pe=ue[1];return(0,n.jsxs)(K.a,{title:l.values?"\u7F16\u8F91":"\u6DFB\u52A0",form:fe,preserve:!1,trigger:l.btn,layout:"horizontal",autoFocusFirstInput:!0,drawerProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(){var ie=(0,F.Z)((0,d.Z)().mark(function z(oe){var ee;return(0,d.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return oe.id=((ee=l.values)===null||ee===void 0?void 0:ee.id)||0,Q.abrupt("return",l.onSubmit(oe));case 2:case"end":return Q.stop()}},z)}));return function(z){return ie.apply(this,arguments)}}(),width:"500px",children:[(0,n.jsx)(V.Z,{name:"name",labelCol:{span:5},rules:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],label:"\u540D\u79F0",initialValue:((y=l.values)===null||y===void 0?void 0:y.name)||""}),(0,n.jsx)(G.Z,{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u89C6\u9891\u7C7B\u578B"}],name:"is_city",labelCol:{span:5},label:"\u89C6\u9891\u7C7B\u578B",options:[{label:"\u540C\u57CE",value:1},{label:"\u63A8\u8350",value:0}],fieldProps:{onChange:function(z){console.log(z),Pe(z===1)}},initialValue:(m=l.values)===null||m===void 0?void 0:m.is_city,extra:"\u540C\u57CE\u7C7B\u578B\u7684\u89C6\u9891\u89C4\u5219\u53EA\u80FD\u7528\u4E8E\u540C\u57CE\u4EFB\u52A1"}),se?(0,n.jsx)(G.Z,{rules:[{required:!0,message:"\u89C6\u9891\u8DDD\u79BB"}],name:"distance",labelCol:{span:5},label:"\u89C6\u9891\u8DDD\u79BB",options:[{label:"\u4E0D\u9650",value:0},{label:"3\u516C\u91CC\u4EE5\u5185",value:1},{label:"5\u516C\u91CC\u4EE5\u5185",value:2},{label:"10\u516C\u91CC\u4EE5\u5185",value:3},{label:"20\u516C\u91CC\u4EE5\u5185",value:4},{label:"30\u516C\u91CC\u4EE5\u5185",value:5},{label:"50\u516C\u91CC\u4EE5\u5185",value:6}],initialValue:(p=l.values)===null||p===void 0?void 0:p.distance}):void 0,se?(0,n.jsx)(G.Z,{rules:[{required:!0,message:"\u89C6\u9891\u65F6\u95F4"}],name:"in_time",labelCol:{span:5},label:"\u89C6\u9891\u65F6\u95F4",options:[{label:"\u4E0D\u9650",value:0},{label:"1\u5C0F\u65F6\u5185",value:1},{label:"12\u5C0F\u65F6\u5185",value:2},{label:"1\u5929\u5185",value:3},{label:"3\u5929\u5185",value:4},{label:"7\u5929\u5185",value:5},{label:"15\u5929\u5185",value:6}],initialValue:(r=l.values)===null||r===void 0?void 0:r.in_time}):void 0,(0,n.jsx)(N.Z,{label:"\u70B9\u8D5E\u6570\u533A\u95F4",name:"zan_range",labelCol:{span:5},separator:"-",separatorWidth:60,initialValue:[(s=l.values)===null||s===void 0?void 0:s.min_zan,(o=l.values)===null||o===void 0?void 0:o.max_zan],extra:"\u4E0D\u8BBE\u7F6E\u6216\u8005\u90FD\u8BBE\u7F6E\u4E3A0\u5219\u4E0D\u9650\u5236"}),(0,n.jsx)(N.Z,{label:"\u8BC4\u8BBA\u6570\u533A\u95F4",name:"comment_range",labelCol:{span:5},separator:"-",separatorWidth:60,initialValue:[(c=l.values)===null||c===void 0?void 0:c.min_comment,(i=l.values)===null||i===void 0?void 0:i.max_comment],extra:"\u4E0D\u8BBE\u7F6E\u6216\u8005\u90FD\u8BBE\u7F6E\u4E3A0\u5219\u4E0D\u9650\u5236"}),(0,n.jsx)(N.Z,{label:"\u6536\u85CF\u6570\u533A\u95F4",name:"collect_range",labelCol:{span:5},separator:"-",separatorWidth:60,initialValue:[(B=l.values)===null||B===void 0?void 0:B.min_collect,(a=l.values)===null||a===void 0?void 0:a.max_collect],extra:"\u4E0D\u8BBE\u7F6E\u6216\u8005\u90FD\u8BBE\u7F6E\u4E3A0\u5219\u4E0D\u9650\u5236"}),(0,n.jsx)(N.Z,{label:"\u5206\u4EAB\u6570\u533A\u95F4",name:"share_range",labelCol:{span:5},separator:"-",separatorWidth:60,initialValue:[(X=l.values)===null||X===void 0?void 0:X.min_share,(w=l.values)===null||w===void 0?void 0:w.max_share],extra:"\u4E0D\u8BBE\u7F6E\u6216\u8005\u90FD\u8BBE\u7F6E\u4E3A0\u5219\u4E0D\u9650\u5236"}),(0,n.jsx)(ae.Z,{label:"\u5305\u542B\u5173\u952E\u8BCD",labelCol:{span:5},initialValue:((k=l.values)===null||k===void 0?void 0:k.contain)||"",name:"contain",extra:(0,n.jsxs)("div",{children:["\u591A\u4E2A\u5173\u952E\u8BCD\u4F7F\u7528\u4E2D\u6587\u9017\u53F7\uFF08\uFF0C\uFF09\u6216\u8005\u82F1\u6587\u9017\u53F7\uFF08,\uFF09\u9694\u5F00\u5373\u53EF\uFF01",(0,n.jsx)("a",{target:"_blank",href:"https://docs.qq.com/doc/DTk9sQ1RMdnZsaU5P",children:"\u70B9\u51FB\u67E5\u770B\u8BE6\u7EC6\u89C4\u5219"})]})}),(0,n.jsx)(ae.Z,{label:"\u4E0D\u5305\u542B\u5173\u952E\u8BCD",labelCol:{span:5},initialValue:((q=l.values)===null||q===void 0?void 0:q.no_contain)||"",name:"no_contain",extra:(0,n.jsxs)("div",{children:["\u591A\u4E2A\u5173\u952E\u8BCD\u4F7F\u7528\u4E2D\u6587\u9017\u53F7\uFF08\uFF0C\uFF09\u6216\u8005\u82F1\u6587\u9017\u53F7\uFF08,\uFF09\u9694\u5F00\u5373\u53EF\uFF01",(0,n.jsx)("a",{target:"_blank",href:"https://docs.qq.com/doc/DTk9sQ1RMdnZsaU5P",children:"\u70B9\u51FB\u67E5\u770B\u8BE6\u7EC6\u89C4\u5219"})]})})]})},te=de,ve=e(30381),me=e.n(ve),J=[{title:"ID",dataIndex:"id",search:!1,fixed:"left",width:120},{title:"\u540D\u79F0",ellipsis:!0,width:200,copyable:!0,dataIndex:"name"},{title:"\u662F\u5426\u540C\u57CE",dataIndex:"is_city",search:!1,valueEnum:{0:{text:"\u5426"},1:{text:"\u662F"}}},{title:"\u89C6\u9891\u8DDD\u79BB",dataIndex:"distance",search:!1,valueEnum:{0:{text:"\u4E0D\u9650"},1:{text:"5\u516C\u91CC\u4EE5\u5185"},2:{text:"10\u516C\u91CC\u4EE5\u5185"},3:{text:"20\u516C\u91CC\u4EE5\u5185"},4:{text:"30\u516C\u91CC\u4EE5\u5185"},5:{text:"50\u516C\u91CC\u4EE5\u5185"}}},{title:"\u89C6\u9891\u65F6\u95F4",dataIndex:"in_time",search:!1,valueEnum:{0:{text:"\u4E0D\u9650"},1:{text:"1\u5C0F\u65F6\u5185"},2:{text:"12\u5C0F\u65F6\u5185"},3:{text:"1\u5929\u5185"},4:{text:"3\u5929\u5185"},5:{text:"7\u5929\u5185"},6:{text:"15\u5929\u5185"}}},{title:"\u70B9\u8D5E\u6570\u8303\u56F4",dataIndex:"min_zan",search:!1,render:function(l,t){return t.min_zan===0&&t.max_zan===0?"-":t.min_zan+" - "+t.max_zan}},{title:"\u8BC4\u8BBA\u6570\u8303\u56F4",dataIndex:"min_comment",search:!1,render:function(l,t){return t.min_comment===0&&t.max_comment?"-":t.min_comment+" - "+t.max_comment}},{title:"\u6536\u85CF\u6570\u8303\u56F4",dataIndex:"min_collect",search:!1,render:function(l,t){return t.min_collect===0&&t.max_collect===0?"-":t.min_collect+" - "+t.max_collect}},{title:"\u5206\u4EAB\u6570\u8303\u56F4",dataIndex:"min_share",search:!1,render:function(l,t){return t.min_share===0&&t.max_collect===0?"-":t.min_share+" - "+t.max_share}},{title:"\u5305\u542B\u5173\u952E\u8BCD",dataIndex:"contain",ellipsis:!0,width:200,copyable:!0,search:!1},{title:"\u4E0D\u5305\u542B\u5173\u952E\u8BCD",dataIndex:"no_contain",ellipsis:!0,width:200,copyable:!0,search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateTime",search:!1,width:180,render:function(l){return me()(l.props.text*1e3).format("YYYY-MM-DD HH:mm:ss")}}],le,ne,re,I,ce=(le=window.connectModel("user","@@initialState"),ne=Reflect.metadata("design:type",Function),re=Reflect.metadata("design:paramtypes",[Object]),le(I=ne(I=re(I=function(b){(0,T.Z)(t,b);var l=(0,u.Z)(t);function t(y){var m,p,r;return(0,M.Z)(this,t),r=l.call(this,y),r.actionRef=void 0,r.state={user:(m=r.props.user)===null||m===void 0||(p=m.initialState)===null||p===void 0?void 0:p.currentUser,columns:J},r.getData=function(){var s=(0,F.Z)((0,d.Z)().mark(function o(c){var i;return(0,d.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.Mn)(c);case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),r.handleUpdate=function(){var s=(0,F.Z)((0,d.Z)().mark(function o(c){var i;return(0,d.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.y2)((0,C.Z)({},c));case 2:if(i=a.sent,!i.success){a.next=7;break}return r.actionRef.current.reload(),Z.ZP.success(i.msg),a.abrupt("return",!0);case 7:case"end":return a.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),r.handleAdd=function(){var s=(0,F.Z)((0,d.Z)().mark(function o(c){var i;return(0,d.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.ZF)((0,C.Z)({},c));case 2:if(i=a.sent,!i.success){a.next=7;break}return r.actionRef.current.reload(),Z.ZP.success(i.msg),a.abrupt("return",!0);case 7:case"end":return a.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),r.handleRemove=function(){var s=(0,F.Z)((0,d.Z)().mark(function o(c){var i;return(0,d.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.Me)({id:c});case 2:i=a.sent,console.log(i),i.success&&(r.actionRef.current.reload(),Z.ZP.success(i.msg));case 5:case"end":return a.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),r.actionRef=R.createRef(),r}return(0,j.Z)(t,[{key:"componentDidMount",value:function(){if(this.state.user.role_type!==2){var m=[],p=0,r=(0,E.Z)(J),s;try{for(r.s();!(s=r.n()).done;){var o=s.value;p++,p===J.length-1&&m.push({title:"\u7528\u6237",dataIndex:"userName",search:!1}),m.push(o)}}catch(c){r.e(c)}finally{r.f()}this.setState({columns:m})}}},{key:"render",value:function(){var m=this;return(0,n.jsx)(U.ZP,{children:(0,n.jsx)(L.Z,{actionRef:this.actionRef,scroll:{x:1800},rowKey:"id",search:{labelWidth:42},toolBarRender:function(){return[(0,n.jsx)(S.Z,{access:"Api_addVideoRule",children:(0,n.jsx)(te,{btn:(0,n.jsxs)(v.Z,{type:"primary",children:[(0,n.jsx)($.Z,{}),"\u6DFB\u52A0"]}),onSubmit:m.handleAdd,values:void 0})},"unique")]},request:this.getData,columns:[].concat((0,f.Z)(this.state.columns),[{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",fixed:"right",width:100,render:function(r,s){return[(0,n.jsx)(te,{btn:(0,n.jsx)("a",{children:"\u4FEE\u6539"},"update_"+s.id),onSubmit:m.handleUpdate,values:s},"update__"+s.id),(0,n.jsxs)(h.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",icon:(0,n.jsx)(W.Z,{style:{color:"red"}}),onConfirm:function(){return m.handleRemove(s.id)},children:[" ",(0,n.jsx)("a",{children:"\u5220\u9664"},"delete_"+s.id)]},"delete__"+s.id)]}}])})})}}]),t}(R.Component))||I)||I)||I)}}]);

(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[843],{31199:function(I,p,e){"use strict";var P=e(22122),F=e(28991),h=e(81253),x=e(67294),E=e(38622),y=["fieldProps","min","proFieldProps","max"],R=function(v,g){var i=v.fieldProps,m=v.min,$=v.proFieldProps,U=v.max,L=(0,h.Z)(v,y);return x.createElement(E.Z,(0,P.Z)({mode:"edit",valueType:"digit",fieldProps:(0,F.Z)({min:m,max:U},i),ref:g,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:$},L))};p.Z=x.forwardRef(R)},90672:function(I,p,e){"use strict";var P=e(22122),F=e(81253),h=e(67294),x=e(38622),E=["fieldProps","proFieldProps"],y=function(O,v){var g=O.fieldProps,i=O.proFieldProps,m=(0,F.Z)(O,E);return h.createElement(x.Z,(0,P.Z)({ref:v,mode:"edit",valueType:"textarea",fieldProps:g,proFieldProps:i},m))};p.Z=h.forwardRef(y)},94750:function(I,p,e){"use strict";var P=e(81910),F=e(85893),h=function(E){var y=(0,P.md)();return(0,F.jsx)(P.Nv,{accessible:y[E.access],children:E.children})};p.Z=h},66807:function(I,p,e){"use strict";e.r(p),e.d(p,{default:function(){return se}});var P=e(62350),F=e(24565),h=e(86582),x=e(57663),E=e(71577),y=e(17462),R=e(76772),O=e(34792),v=e(48086),g=e(11849),i=e(39428),m=e(3182),$=e(69610),U=e(54941),L=e(81306),z=e(80017),W=e(94750),B=e(62260),N=e(49101),Q=e(1870),J=e(67265),X=e(25590),S=e(67294),K=e(81910),ue=e(9715),w=e(55843),k=e(2824),q=e(71975),_=e(5966),b=e(31199),ee=e(90672),n=e(85893),te=function(r){var u,Z,d,f,j=w.Z.useForm(),l=(0,k.Z)(j,1),a=l[0],C=(0,K.md)();return(0,n.jsxs)(q.a,{title:r.values?"\u7F16\u8F91":"\u6DFB\u52A0",form:a,preserve:!1,trigger:r.btn,layout:"horizontal",autoFocusFirstInput:!0,drawerProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(){var o=(0,m.Z)((0,i.Z)().mark(function c(s){var D;return(0,i.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return s.id=((D=r.values)===null||D===void 0?void 0:D.id)||0,T.abrupt("return",r.onSubmit(s));case 2:case"end":return T.stop()}},c)}));return function(c){return o.apply(this,arguments)}}(),width:"400px",children:[(0,n.jsx)(_.Z,{name:"keyword",labelCol:{span:6},label:"\u91C7\u96C6\u5173\u952E\u8BCD",initialValue:((u=r.values)===null||u===void 0?void 0:u.keyword)||""}),(0,n.jsx)(b.Z,{name:"pass_rate",labelCol:{span:6},label:"\u901A\u8FC7\u7387",initialValue:((Z=r.values)===null||Z===void 0?void 0:Z.pass_rate)||"",fieldProps:{addonAfter:"%"}}),(0,n.jsx)(b.Z,{name:"suc_rate",labelCol:{span:6},label:"\u6210\u4EA4\u7387",initialValue:((d=r.values)===null||d===void 0?void 0:d.suc_rate)||"",fieldProps:{addonAfter:"%"}}),(0,n.jsx)(ee.Z,{name:"desc",labelCol:{span:6},label:"\u63CF\u8FF0",initialValue:((f=r.values)===null||f===void 0?void 0:f.desc)||""})]})},V=te,re=e(30381),ae=e.n(re),ne=[{title:"\u4EFB\u52A1ID",dataIndex:"id",search:!1},{title:"\u5173\u952E\u8BCD",dataIndex:"keyword"},{title:"\u91CD\u590D\u7387",dataIndex:"repeat_rate",search:!1,render:function(r,u){return r==0&&u.status==0?"-":r+"%"}},{title:"\u901A\u8FC7\u7387",dataIndex:"pass_rate",search:!1,render:function(r,u){return r==0&&u.status==0?"-":r+"%"}},{title:"\u6210\u4EA4\u7387",dataIndex:"suc_rate",search:!1,render:function(r,u){return r==0&&u.status==0?"-":r+"%"}},{title:"\u63CF\u8FF0",dataIndex:"desc",copyable:!0,width:200,ellipsis:!0},{title:"\u8FD0\u884C\u72B6\u6001",dataIndex:"status",valueEnum:{0:{text:"\u5F85\u6267\u884C"},1:{text:"\u5DF2\u5B8C\u6210",status:"Success"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateTime",width:180,search:!1,render:function(r){return ae()(r.props.text*1e3).format("YYYY-MM-DD HH:mm:ss")}}],Y,G,H,A,se=(Y=window.connectModel("user","@@initialState"),G=Reflect.metadata("design:type",Function),H=Reflect.metadata("design:paramtypes",[Object]),Y(A=G(A=H(A=function(M){(0,L.Z)(u,M);var r=(0,z.Z)(u);function u(Z){var d,f,j,l,a;return(0,$.Z)(this,u),a=r.call(this,Z),a.actionRef=void 0,a.state={agent_user_id:(d=K.m8.location.query)===null||d===void 0?void 0:d.agent_user_id,user_id:(f=K.m8.location.query)===null||f===void 0?void 0:f.user_id,user:(j=a.props.user)===null||j===void 0||(l=j.initialState)===null||l===void 0?void 0:l.currentUser,machineCount:0,qrcodeOpen:!1},a.record={},a.getData=function(){var C=(0,m.Z)((0,i.Z)().mark(function o(c){var s;return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.state.agent_user_id&&(c.agent_user_id=a.state.agent_user_id),a.state.user_id&&(c.user_id=a.state.user_id),t.next=4,(0,B.Uy)(c);case 4:return s=t.sent,t.abrupt("return",s);case 6:case"end":return t.stop()}},o)}));return function(o){return C.apply(this,arguments)}}(),a.handleUpdate=function(){var C=(0,m.Z)((0,i.Z)().mark(function o(c){var s;return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.D6)((0,g.Z)({},c));case 2:if(s=t.sent,!s.success){t.next=7;break}return a.actionRef.current.reload(),v.ZP.success(s.msg),t.abrupt("return",!0);case 7:case"end":return t.stop()}},o)}));return function(o){return C.apply(this,arguments)}}(),a.handleAdd=function(){var C=(0,m.Z)((0,i.Z)().mark(function o(c){var s;return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.LO)((0,g.Z)({},c));case 2:if(s=t.sent,!s.success){t.next=7;break}return a.actionRef.current.reload(),v.ZP.success(s.msg),t.abrupt("return",!0);case 7:case"end":return t.stop()}},o)}));return function(o){return C.apply(this,arguments)}}(),a.handleRemove=function(){var C=(0,m.Z)((0,i.Z)().mark(function o(c){var s;return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.tc)({id:c});case 2:s=t.sent,console.log(s),s.success&&(a.actionRef.current.reload(),v.ZP.success(s.msg));case 5:case"end":return t.stop()}},o)}));return function(o){return C.apply(this,arguments)}}(),a.actionRef=S.createRef(),a}return(0,U.Z)(u,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var d=this;return(0,n.jsxs)(J.ZP,{children:[this.state.user.role_type===1?(0,n.jsx)(R.Z,{style:{marginBottom:12+"px"},type:"warning",description:(0,n.jsx)("span",{children:"\u8BF7\u5C06\u4EFB\u52A1\u7684\u5173\u952E\u8BCD\u5C3D\u53EF\u80FD\u7EC6\u5206\uFF0C\u6BD4\u5982\uFF1A\u88C5\u4FEE\u53EF\u4EE5\u62C6\u5206\u4E3A\u201C\u6B66\u6C49\u88C5\u4FEE\u201D\u3001\u201C\u6B66\u6C49\u88C5\u9970\u201D\u3001\u201C\u5B9C\u660C\u88C5\u4FEE\u201D\u3001\u201C\u6B66\u6C49\u6C5F\u590F\u88C5\u4FEE\u201D\u7B49"})}):void 0,(0,n.jsx)(X.Z,{actionRef:this.actionRef,rowKey:"id",search:{labelWidth:86},toolBarRender:function(){return[(0,n.jsx)(W.Z,{access:"Api_addGrabTask",children:(0,n.jsx)(V,{btn:(0,n.jsxs)(E.Z,{type:"primary",children:[(0,n.jsx)(N.Z,{}),"\u6DFB\u52A0"]}),onSubmit:d.handleAdd,values:void 0})})]},request:this.getData,columns:[].concat((0,h.Z)(ne),[{title:"\u64CD\u4F5C",width:120,dataIndex:"option",valueType:"option",render:function(j,l){return[(0,n.jsx)(W.Z,{access:"Api_updateMachine",children:(0,n.jsx)(V,{btn:(0,n.jsx)("a",{children:"\u4FEE\u6539"},"update_"+l.id),onSubmit:d.handleUpdate,values:l,roleType:d.state.user.role_type},"update__"+l.id)},"upd_"+l.id),(0,n.jsx)(W.Z,{access:"Api_removeMachine",children:(0,n.jsxs)(F.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",icon:(0,n.jsx)(Q.Z,{style:{color:"red"}}),onConfirm:function(){return d.handleRemove(l.id)},children:[" ",(0,n.jsx)("a",{children:"\u5220\u9664"},"delete_"+l.id)]},"delete__"+l.id)},"del_"+l.id)]}}])})]})}}]),u}(S.Component))||A)||A)||A)}}]);
